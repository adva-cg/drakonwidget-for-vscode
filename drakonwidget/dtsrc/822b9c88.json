{"keywords":{"scenario":false,"async":false,"export":false,"function":true,"algoprop":false},"tag":"232472744","params":"config\nnode","when_created":1673344361.3109,"parent_id":"b3d6c272","props":[],"language":"LANG_S42","items":{"40":{"type":"action","text":"node.subtreeBox.width = right","one":"41","id":"40"},"10":{"branchId":5,"one":"1","id":"10","type":"branch","text":"Exit"},"21":{"type":"action","id":"21","one":"22","text":"child.subtreeBox.left = left\nchild.subtreeBox.top = top"},"41":{"type":"action","text":"height = top - config.metre","one":"58","id":"41"},"22":{"type":"action","text":"top += (\n    child.subtreeBox.height + config.metre\n)","one":"13","id":"22"},"32":{"branchId":3,"one":"33","id":"32","type":"branch","text":"Position subroot"},"11":{"branchId":2,"one":"17","id":"11","type":"branch","text":"Go through children"},"23":{"type":"action","text":"top = 0","one":"26","id":"23"},"33":{"type":"action","id":"33","one":"40","text":"node.x = node.w"},"13":{"one":"32","id":"13","type":"loopend","two":"","text":""},"14":{"one":"15","id":"14","type":"loopbegin","two":"","text":"child; node.children"},"45":{"type":"action","text":"nTop = node.y - node.h\nnBottom = node.y + node.h","one":"44","id":"45"},"15":{"type":"action","text":"right = Math.max(\n    right,\n    left + child.subtreeBox.width\n)","one":"21","id":"15"},"46":{"type":"action","id":"46","one":"47","text":"shift = -nTop"},"54":{"flag1":0,"id":"54","type":"question","text":"node.y < first.y","one":"56","two":"55"},"47":{"one":"49","id":"47","type":"loopbegin","text":"child; node.children","two":""},"58":{"type":"action","text":"first = node.children[0]","one":"36","id":"58"},"37":{"type":"action","text":"node.y = first.y","one":"43","id":"37"},"56":{"flag1":0,"id":"56","type":"question","two":"57","one":"43","text":"node.y > lastY"},"59":{"type":"action","text":"lastY = last.y + last.subtreeBox.top","one":"54","id":"59"},"57":{"one":"43","id":"57","type":"action","text":"node.y = lastY","two":""},"48":{"one":"50","id":"48","type":"loopend","two":"","text":""},"49":{"one":"48","id":"49","type":"action","two":"","text":"child.subtreeBox.top += shift"},"1":{"type":"end","id":"1"},"60":{"one":"59","id":"60","type":"action","two":"","text":"last = node.children[\n    node.children.length - 1\n]"},"17":{"type":"action","text":"right = node.subtreeBox.width","one":"14","id":"17"},"43":{"branchId":4,"one":"45","id":"43","type":"branch","text":"Adjust box"},"36":{"flag1":0,"id":"36","type":"question","two":"37","one":"42","text":"node.children.length === 1"},"26":{"type":"action","text":"left = node.w * 2 + config.metre * 2","one":"11","id":"26"},"42":{"type":"action","text":"node.y = Math.round(height \/ 2)","one":"60","id":"42"},"44":{"flag1":0,"id":"44","type":"question","text":"nTop < 0","one":"51","two":"46"},"2":{"branchId":1,"one":"23","id":"2","type":"branch","text":"Start pos"},"50":{"type":"action","text":"height += shift\nnode.y += shift\nnBottom += shift","one":"51","id":"50"},"51":{"type":"action","id":"51","one":"10","text":"node.subtreeBox.height = Math.max(\n    nBottom,\n    height\n)"},"55":{"one":"43","id":"55","type":"action","two":"","text":"node.y = first.y"}},"version":20180619,"updated_by":"stipan","type":"drakon","created_by":"stipan","name":"calculateHorizontalSubtree","when_updated":1673611606.1599}