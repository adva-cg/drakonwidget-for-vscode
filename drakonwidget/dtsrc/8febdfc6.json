{"version":20180619,"tag":"142881175","params":"widget","when_created":1658245635.8836,"parent_id":"a52f66e7","props":[],"when_updated":1702925333.3355,"items":{"70":{"flag1":0,"id":"70","type":"question","text":"widget.visuals.currentSocket","one":"29","two":"114"},"146":{"one":"145","id":"146","type":"action","text":"pos = toDiagram(widget, evt)","two":""},"101":{"flag1":1,"id":"101","type":"question","text":"currentSocket","one":"125","two":"127"},"60":{"one":"133","id":"60","type":"case","two":"131","text":"mouseMove(evt)"},"41":{"one":"111","id":"41","type":"case","two":"42","text":"mouseMove(evt)"},"22":{"one":"105","id":"22","type":"case","text":"2","two":"136"},"32":{"one":"47","id":"32","type":"case","two":"33","text":"mouseMove(evt)"},"11":{"type":"select","text":"receive","one":"12","id":"11"},"12":{"one":"107","id":"12","type":"case","text":"mouseMove(evt)","two":"14"},"90":{"flag1":1,"id":"90","type":"question","text":"currentSocket === widget.visuals.currentSocket","one":"93","two":"81"},"72":{"branchId":2,"one":"73","id":"72","type":"branch","text":"OnSocket"},"33":{"one":"46","id":"33","type":"case","text":"mouseUp(evt)","two":"34"},"100":{"type":"action","text":"currentSocket = findSocket(\n    widget.visuals,\n    pos.x,\n    pos.y\n)","one":"101","id":"100"},"132":{"type":"action","id":"132","one":"25","text":"clearMouseHover(widget)"},"145":{"one":"2","id":"145","type":"action","text":"handleRightClick(widget, pos, evt)","two":""},"64":{"type":"action","text":"pos = toDiagram(widget, evt)","one":"100","id":"64"},"34":{"one":"2","id":"34","type":"case","text":"mouseLeave(evt)","two":""},"119":{"one":"124","id":"119","type":"action","two":"","text":"prim = findVisualItem(widget, pos)"},"75":{"one":"80","id":"75","type":"case","two":"76","text":"mouseUp(evt)"},"24":{"one":"144","id":"24","type":"case","text":"0","two":"23"},"15":{"one":"2","id":"15","type":"case","text":"mouseLeave(evt)","two":null},"93":{"type":"action","id":"93","one":"96","text":"widget.visuals.onSocket = true"},"122":{"one":"121","id":"122","type":"action","text":"cursor = getCursorForItem(\n    widget,\n    prim,\n    pos,\n    evt\n)","two":""},"25":{"type":"select","id":"25","one":"24","text":"evt.button"},"46":{"type":"action","id":"46","one":"137","text":"pos = toDiagram(widget, evt)"},"67":{"type":"action","id":"67","one":"2","text":"setCursor(evt.target, \"pointer\")"},"47":{"type":"action","id":"47","one":"48","text":"deltaX = evt.clientX - startX\ndeltaY = evt.clientY - startY"},"77":{"type":"action","text":"paint(widget)","one":"72","id":"77"},"85":{"one":"2","id":"85","type":"case","text":"mouseLeave(evt)","two":null},"107":{"type":"action","id":"107","one":"6","text":"onMouseScroll(scroller, widget, evt)"},"144":{"flag1":0,"id":"144","type":"question","two":"146","one":"3","text":"evt.ctrlKey"},"89":{"flag1":1,"id":"89","type":"question","two":"91","one":"72","text":"currentSocket === widget.visuals.currentSocket"},"116":{"type":"action","id":"116","one":"104","text":"tracing.trace(\"drag start\")"},"125":{"type":"action","text":"prim = {\n    primId: \"socket-\" + currentSocket\n}","one":"126","id":"125"},"59":{"type":"select","id":"59","one":"63","text":"receive"},"87":{"one":"90","id":"87","type":"action","two":"","text":"currentSocket = findSocket(\n    widget.visuals,\n    pos.x,\n    pos.y\n)"},"134":{"type":"action","text":"clearMouseHover(widget)","one":"135","id":"134"},"48":{"flag1":0,"id":"48","type":"question","text":"Math.abs(deltaX) > 2","one":"49","two":"116"},"39":{"branchId":6,"one":"40","id":"39","type":"branch","text":"Drag"},"29":{"branchId":5,"one":"31","id":"29","type":"branch","text":"Choose"},"49":{"flag1":0,"id":"49","type":"question","text":"Math.abs(deltaY) > 2","one":"29","two":"116"},"79":{"one":"89","id":"79","type":"action","two":"","text":"currentSocket = findSocket(\n    widget.visuals,\n    pos.x,\n    pos.y\n)"},"69":{"type":"action","id":"69","one":"71","text":"pos = toDiagram(widget, evt)"},"117":{"flag1":1,"id":"117","type":"question","text":"ear","one":"128","two":"119"},"124":{"type":"action","text":"updateHighlight(widget, prim)","one":"120","id":"124"},"135":{"type":"action","id":"135","one":"118","text":"updateHighlight(widget, undefined)"},"142":{"type":"action","text":"widget.config.removePopups()","one":"45","id":"142"},"105":{"type":"action","id":"105","one":"30","text":"pos = toDiagram(widget, evt)"},"104":{"type":"action","id":"104","one":"110","text":"clearSockets(widget.visuals)"},"114":{"type":"action","text":"tracing.trace(\n    \"found socket\",\n    widget.visuals.currentSocket\n)","one":"94","id":"114"},"127":{"type":"action","id":"127","one":"117","text":"ear = hitEars(widget.visuals, pos)"},"115":{"type":"action","id":"115","one":"112","text":"tracing.trace(\"drag complete\")"},"97":{"type":"action","id":"97","one":"77","text":"setCursor(evt.target, \"pointer\")"},"96":{"type":"action","id":"96","one":"72","text":"paintLater(widget)"},"95":{"type":"action","id":"95","one":"81","text":"paintLater(widget)"},"136":{"type":"case","id":"136","one":"2","two":null},"126":{"type":"action","text":"updateHighlight(widget, prim)","one":"67","id":"126"},"141":{"one":"2","id":"141","type":"action","two":"","text":"handleRightClick(widget, pos, evt)"},"94":{"type":"action","id":"94","one":"97","text":"widget.visuals.onSocket = true"},"91":{"type":"action","text":"widget.visuals.onSocket = false","one":"95","id":"91"},"86":{"one":"87","id":"86","type":"action","text":"pos = toDiagram(widget, evt)","two":""},"137":{"flag1":0,"id":"137","type":"question","two":"140","one":"45","text":"evt.source === \"touch\""},"84":{"one":"2","id":"84","type":"case","text":"mouseUp(evt)","two":"85"},"83":{"one":"86","id":"83","type":"case","text":"mouseMove(evt)","two":"84"},"82":{"type":"select","text":"receive","one":"83","id":"82"},"81":{"branchId":3,"one":"82","id":"81","type":"branch","text":"OffSocket"},"80":{"type":"action","text":"runCurrentSocket(widget)","one":"2","id":"80"},"140":{"flag1":1,"id":"140","type":"question","two":"141","one":"142","text":"widget.config.hasPopup()"},"78":{"one":"79","id":"78","type":"action","text":"pos = toDiagram(widget, evt)","two":""},"112":{"type":"action","text":"dragTarget.complete()","one":"2","id":"112"},"129":{"type":"action","text":"updateHighlight(widget, prim)","one":"123","id":"129"},"76":{"one":"80","id":"76","type":"case","two":null,"text":"mouseLeave(evt)"},"74":{"one":"78","id":"74","type":"case","text":"mouseMove(evt)","two":"75"},"73":{"type":"select","text":"receive","one":"74","id":"73"},"71":{"type":"action","text":"widget.visuals.currentSocket = findSocket(\n    widget.visuals,\n    pos.x,\n    pos.y\n)","one":"70","id":"71"},"63":{"one":"132","id":"63","type":"case","two":"60","text":"mouseDown(evt)"},"6":{"branchId":4,"one":"11","id":"6","type":"branch","text":"Scroll"},"121":{"one":"2","id":"121","type":"action","text":"setCursor(evt.target, cursor)","two":""},"118":{"one":"2","id":"118","type":"action","text":"setCursor(evt.target, \"default\")","two":""},"133":{"type":"action","id":"133","one":"64","text":"trackMouseHover(widget, evt)"},"120":{"flag1":1,"id":"120","type":"question","two":"118","one":"122","text":"prim"},"123":{"one":"2","id":"123","type":"action","two":"","text":"setCursor(evt.target, \"grab\")"},"110":{"type":"action","text":"dragTarget = chooseDragTarget(\n    widget,\n    evt\n)","one":"39","id":"110"},"111":{"type":"action","text":"dragTarget.onDrag(evt)","one":"39","id":"111"},"131":{"one":"134","id":"131","type":"case","text":"mouseLeave(evt)","two":null},"106":{"type":"action","text":"scroller = createMouseScroll(widget, evt)","one":"6","id":"106"},"2":{"branchId":1,"one":"59","id":"2","type":"branch","text":"Idle"},"23":{"one":"106","id":"23","type":"case","text":"1","two":"22"},"128":{"type":"action","text":"prim = {primId: ear}","one":"129","id":"128"},"42":{"one":"115","id":"42","type":"case","text":"mouseUp(evt)","two":"43"},"31":{"one":"32","id":"31","type":"select","text":"receive","two":""},"3":{"type":"action","text":"startX = evt.clientX\nstartY = evt.clientY","one":"69","id":"3"},"40":{"one":"41","id":"40","type":"select","text":"receive","two":""},"30":{"type":"action","text":"handleRightClick(widget, pos, evt)","one":"2","id":"30"},"45":{"type":"action","text":"mouseClick(widget, pos, evt)","one":"2","id":"45"},"14":{"one":"2","id":"14","type":"case","text":"mouseUp(evt)","two":"15"},"43":{"one":"115","id":"43","type":"case","text":"mouseLeave(evt)","two":""}},"updated_by":"stipan","created_by":"stipan","type":"drakon","keywords":{"scenario":false,"async":true,"export":false,"function":true,"algoprop":false},"name":"SelectBehavior","language":"LANG_S42"}